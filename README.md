# * МИКРО/80 * / *ЮТ/88* CP/M 

## Общие сведения

При подключении квазидиска к Микро-80, опубликованного в "Микропроцессорные
средства и системы" 1984 года №4, необходимо программное обеспечение для
его использования. Стандарной дисковой операционной системой для МикроЭВМ
на базе Intel 8080 является CP/M. Данный проект посвящен реализации CP/M
для Микро-80, ЮТ-88. Данная версия CP/M может запускаться без изменений
на машинах Микро-80 и ЮТ-88. Она представляет собой восстановленную версию
системы из исходных текстов DRI CP/M, дампов CP/M-64 для ЮТ-88, исходных
кодов, опубликованных С.Н.Поповым в МИСиС.

# Загрузка CP/M

CP/M может быть, в зависимости от конфигурации компьютера, загружена с
rom-диска или с лента. После загрузки и запуска загрузчика будет
выведено меню с вариантами подготовки квазидиска. При создании
пустого диска, на нем будет расположена утилита ch.com, которая
позволяет скопировать файл с ленты на диск или с диска на ленту.

Далее, используя CH.COM, наполняем диск программами:

1. CH STAT.COM
2. CH POWER.COM
3. CH PIP.COM
4. CH DUMP.COM
и т.д.

## Утилита CH.COM

Обмен между диском и магнитофоном организован программой ch.com, основанной
на ch.com, опубликованной для ЮТ-88. Программа несколько переработана для
работы на любой машине, без привязки к МОНИТОРу, CP/M BIOS. Однако, формат
записи на ленту (перфоратор) не совместим с директивами МОНИТОРа, что следует
учитывать.

## Перечень изменений
 - Восстановлены исходные тексты CP/M-64 на базе исходных текстов CP/M 2.2. Выполнена побайтная проверка бинарника.
 - Восстановлены исходные тексты специфических для ЮТ-88 частей. BIOS восстановлен с использованием публикации С.Н.Попова в МПСиС.
 - Убран прямой вызов недокументированных точек входа МОНИТОРа из эмулятора терминала
 - Поддержка реализации квазидиска на МИКРО-80 (8 банков памяти, а не 4)
 - Универсальный BIOS для ЮТ-88/МИКРО-80 (нет "запаздывания" ввода на МИКРО-80)
 - Универсальный терминал для ЮТ-88/МИКРО-80
 - Квазидиск имеет правильную структуру каталога при создании
 - Загрузчик позволяет выбрать, формировать новый квазидиск или использовать текущий
 - BIOS использует правильную п/п для устроства LST
 - Загрузчик может быть загружен в любые адреса памяти (не только в 3100)

## todo

 - Универсальный BIOS для ЮТ-88/МИКРО-80 с поддержкой обоих вариантов реализации диска (автоопределение размера диска?
   сейчас реализована поддержка максимальной емкости, что не очень хорошо для реальной железки)
 - Загрузчик сейчас никак не учитывает возможные разные размеры памяти.
 - Попробовать поддержать Радио-86РК, скорее всего, только 32К версию.
